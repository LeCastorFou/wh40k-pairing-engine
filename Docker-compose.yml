services:
  web:
    build: .
    container_name: wh40k-pairing
    ports:
      - "5000:5000"
    environment:
      # Flask
      FLASK_APP: app.py
      FLASK_ENV: development
      FLASK_DEBUG: "1"

      # App auth (env-based)
      TEAM_NAME: "Your Team Name"
      TEAM_PASSWORD: "change-this-password"
      FLASK_SECRET_KEY: "change-this-to-a-long-random-string"

    volumes:
      # Live code reload in dev
      - ./:/app
      # Persist your JSON + layout PNGs
      - ./data:/app/data
    restart: unless-stopped
